= Etags

Etags can be enabled through the declaration of the ShallowEtagHeaderFilter bean.

[source,java]
----
@Bean
public ShallowEtagHeaderFilter shallowEtagHeaderFilter() {
    return new ShallowEtagHeaderFilter();
}
----

To target specific URL patterns, you instead use a FilterRegistrationBean which allows for additional configurations.
[source,java]
----
@Bean
public FilterRegistrationBean<ShallowEtagHeaderFilter> shallowEtagHeaderFilter() {
    FilterRegistrationBean<ShallowEtagHeaderFilter> filterRegistrationBean
      = new FilterRegistrationBean<>( new ShallowEtagHeaderFilter());
    filterRegistrationBean.addUrlPatterns("/foos/*");
    filterRegistrationBean.setName("etagFilter");
    return filterRegistrationBean;
}
----

Sending a request with the 'If-None-Match' header will enable the use of the Etags as the following example of a request and response shows.

[source,bash]
----
//Request
curl -H "Accept: application/json" -H 'If-None-Match: "f88dd058fe004909615a64f01be66a7"'
 -i http://localhost:8080/spring-boot-rest/foos/1

//Response
 HTTP/1.1 304 Not Modified
 ETag: "f88dd058fe004909615a64f01be66a7"
----